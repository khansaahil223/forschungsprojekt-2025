name: vlan

topology:
  kinds:
    nokia_srlinux:
      image: ghcr.io/nokia/srlinux:24.10.1
    
    linux:
      image: ghcr.io/srl-labs/alpine

  nodes:
    srl:
      kind: nokia_srlinux
      startup-config: configs/srl.cfg

    client1:
      kind: linux
      binds:
        - configs/client.sh:/config.sh
      exec:
        - "ash -c '/config.sh 1'"      
    client2:
      kind: linux    
      binds:
        - configs/client.sh:/config.sh
      exec:
        - "ash -c '/config.sh 2'"      

  links:
    # links between client1 and srl
    - endpoints: [client1:eth1, srl:e1-1]    

    # links between client2 and srl
    - endpoints: [srl1:e1-1, client2:eth1]

